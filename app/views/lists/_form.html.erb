<% if flash[:notice].present? %>
  <div class="error">
    <%= flash[:notice] %>
  </div>
<% end %>

<div class="form_container">
  <%= form_with(model: list, local: true) do |form| %>
    <div>
      <%= form.label :title, style: "display: block"%>
      <%= form.text_field :title , id: "listTitle"%>
    </div>

    <div>
      <%= form.label :description, style: "display: block" %>
      <%= form.text_area :description %>
    </div>

    <div>
      <%= form.label :category, style: "display: block" %>
      <%= form.select :category, options_for_select([['', '',], ['Work', 'work'], ['Personal', 'personal'], ['Study', 'study'], ['Health', 'health'], ['Finance', 'finance'], ['Social', 'social'], ['Travel', 'travel'], ['Projects', 'projects'], ['Leisure', 'leisure'], ['Priority', 'priority']]), {}, { class: 'form-select' } %>
    </div>

    <div>
      <%= form.submit  id: 'submit_button' %>
    </div>  
  <% end %>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const taskTitleInput = document.getElementById('listTitle');
      const submitButton = document.getElementById('submit_button');

      
      function updateSubmitButton() {
        submitButton.disabled = taskTitleInput.value.trim() === ''; 
      }

      updateSubmitButton();

      taskTitleInput.addEventListener('input', updateSubmitButton); 
    });
  </script>
  
</div>


